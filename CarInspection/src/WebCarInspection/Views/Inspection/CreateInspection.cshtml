@model WebCarInspection.Models.InspectionViewModel

@{
    ViewData["Title"] = "Create inspection";
}

<h5 style="margin: 2vw;">Create inspection</h5>
<div style="width: 30vw; margin: 3vw;">
    <div class="form-group">
        @using (Html.BeginForm("CreateInspection", "Inspection"))
        {
            @Html.AntiForgeryToken()
            <div>
                @Html.ValidationSummary(true)
                <div class="flex-column">
                    <div>
                        @Html.LabelFor(model => model.Name)
                        @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
                    </div>
                    @Html.ValidationMessageFor(model => model.Name)
                </div>
                <div class="flex-column">
                    <div>
                        @Html.LabelFor(model => model.Description)
                        @Html.TextBoxFor(model => model.Description, new { @class = "form-control" })
                    </div>
                    @Html.ValidationMessageFor(model => model.Description)
                </div>
                <div class="flex-column">
                    <div>
                        @Html.LabelFor(model => model.Price)
                        @Html.TextBoxFor(model => model.Price, new { @class = "form-control", type = "number", value = "1" })
                    </div>
                    @Html.ValidationMessageFor(model => model.Price)
                </div>
                <div class="flex-column">
                    @Html.LabelFor(model => model.InspectionDate)
                    <div class="controls input-append date form_datetime" data-link-field="dtp_input1">
                        <input name="InspectionDate" size="16" type="text" value="@DateTimeOffset.Now" class="form-control" readonly>
                        <span class="add-on"><i class="icon-remove"></i></span>
                        <span class="add-on"><i class="icon-th"></i></span>
                        @Html.ValidationMessageFor(model => model.InspectionDate)
                    </div>
                    <input type="hidden" id="dtp_input1" value="" /><br />
                </div>
                @await Component.InvokeAsync("GetInspectors")
                @await Component.InvokeAsync("GetDrivers")
                <input type="submit" class="btn btn-success" style="margin: 1vw;" value="Create" />
            </div>
        }
        @using (Html.BeginForm("ShowInspections", "Inspection", FormMethod.Get))
        {
            <input type="submit" class="btn btn-secondary" style="margin: 1vw;" value="Cancel" />
        }
    </div>
</div>

